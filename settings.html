<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WHMCS PowerTools Settings</title>
  <link rel="stylesheet" href="settings.css">
</head>
<body>
  <div class="settings-container">
    <header class="settings-header">
      <h1>üîß WHMCS PowerTools Settings</h1>
      <p class="subtitle">Customize your extension preferences</p>
    </header>

    <main class="settings-content">
      <section class="settings-section">
        <h2>Keyboard Shortcut</h2>
        <p class="section-description">Set your preferred keyboard shortcut to toggle the WHMCS search modal</p>
        
        <div class="shortcut-input-group">
          <label for="shortcut-input">Custom Shortcut:</label>
          <input 
            type="text" 
            id="shortcut-input" 
            class="shortcut-input" 
            placeholder="Press your desired key combination..."
            readonly
          >
          <button id="clear-shortcut" class="btn-clear">Clear</button>
        </div>

        <div class="shortcut-info">
          <div class="info-box">
            <strong>Current Shortcut:</strong>
            <span id="current-shortcut" class="shortcut-display">Ctrl+Shift+F</span>
          </div>
          
          <div class="help-text">
            <p><strong>Tips:</strong></p>
            <ul>
              <li>Click on the input field and press your desired key combination</li>
              <li>Supported modifiers: Ctrl, Alt, Shift, Meta (Windows key / Command key)</li>
              <li>Must include at least one modifier key</li>
              <li>Examples: Ctrl+Q, Alt+Shift+S, Meta+Shift+F</li>
            </ul>
          </div>
        </div>

        <div class="preset-shortcuts">
          <p><strong>Quick Presets:</strong></p>
          <div class="preset-buttons">
            <button class="btn-preset" data-shortcut="ctrl+shift+f">Ctrl+Shift+F</button>
            <button class="btn-preset" data-shortcut="ctrl+alt+w">Ctrl+Alt+W</button>
            <button class="btn-preset" data-shortcut="alt+shift+w">Alt+Shift+W</button>
            <button class="btn-preset" data-shortcut="meta+shift+f">‚åò/Win+Shift+F</button>
          </div>
        </div>
      </section>

      <section class="settings-section">
        <h2>Function Order</h2>
        <p class="section-description">Drag and drop to reorder the search function buttons in the modal</p>
        
        <div class="function-order-container">
          <div id="function-order-list" class="function-order-list">
            <!-- Function buttons will be dynamically added here -->
          </div>
        </div>

        <div class="order-info">
          <div class="help-text">
            <p><strong>Tips:</strong></p>
            <ul>
              <li>Drag the function buttons to reorder them</li>
              <li>The first button will be selected by default when opening the modal</li>
              <li>The "User" feature combines UserID, Email, and Phone search with a dropdown selector</li>
              <li>Changes take effect immediately after saving</li>
            </ul>
          </div>
        </div>
      </section>

      <section class="settings-section">
        <h2>Phone Field Configuration</h2>
        <p class="section-description">Choose which field to use for phone number searches</p>
        
        <div class="phone-field-options">
          <label class="radio-option">
            <input type="radio" name="phone-field-type" value="phone" id="phone-field-phone">
            <span><strong>Phone</strong> - Standard WHMCS phone field</span>
          </label>
          
          <label class="radio-option">
            <input type="radio" name="phone-field-type" value="phone2" id="phone-field-phone2">
            <span><strong>Phone 2</strong> - Secondary WHMCS phone field</span>
          </label>
          
          <label class="radio-option">
            <input type="radio" name="phone-field-type" value="custom" id="phone-field-custom">
            <span><strong>Custom Field</strong> - Use a custom field</span>
          </label>
          
          <div class="custom-field-input-wrapper" id="custom-field-wrapper" style="display: none; margin-left: 30px; margin-top: 10px;">
            <label for="phone-field-custom-input">Custom Field Name:</label>
            <input 
              type="text" 
              id="phone-field-custom-input" 
              class="text-input" 
              placeholder="e.g., customfields[24]"
              style="max-width: 300px;"
            >
          </div>
        </div>

        <div class="order-info" style="margin-top: 20px;">
          <div class="help-text">
            <p><strong>How to find a custom field name:</strong></p>
            <ul>
              <li>Open a client page in WHMCS admin</li>
              <li>Right-click on your desired input field and select "Inspect" (or press F12)</li>
              <li>Look for the <code>name</code> attribute in the highlighted HTML element</li>
              <li>Copy the value (e.g., <code>customfields[24]</code>)</li>
              <li>Select "Custom Field" above and paste it in the input</li>
            </ul>
          </div>
        </div>
      </section>

      <section class="settings-section">
        <h2>Extension Info</h2>
        <div class="info-grid">
          <div class="info-item">
            <span class="info-label">Version:</span>
            <span class="info-value">1.3.2</span>
          </div>
          <div class="info-item">
            <span class="info-label">Author:</span>
            <span class="info-value">t.me/mdfrx</span>
          </div>
        </div>
      </section>

      <section class="settings-section">
        <h2>üíù Support the Project</h2>
        <p class="section-description">If you find this extension useful, consider supporting its development with a donation</p>
        
        <div class="donation-container">
          <div class="donation-item">
            <div class="donation-header">
              <span class="donation-icon">‚Çø</span>
              <span class="donation-label">Bitcoin (BTC)</span>
            </div>
            <div class="donation-address-container">
              <input 
                type="text" 
                id="btc-address" 
                class="donation-address-input" 
                readonly
              >
              <button class="btn-copy-address" data-copy="btc-address" title="Copy to clipboard">
                <span class="copy-icon">üìã</span>
                <span class="copy-text">Copy</span>
              </button>
            </div>
          </div>

          <div class="donation-item">
            <div class="donation-header">
              <span class="donation-icon">‚ÇÆ</span>
              <span class="donation-label">TRON (TRC20)</span>
            </div>
            <div class="donation-address-container">
              <input 
                type="text" 
                id="trc-address" 
                class="donation-address-input" 
                readonly
              >
              <button class="btn-copy-address" data-copy="trc-address" title="Copy to clipboard">
                <span class="copy-icon">üìã</span>
                <span class="copy-text">Copy</span>
              </button>
            </div>
          </div>
        </div>

        <div class="donation-message" id="donation-copy-message" style="display: none;"></div>
      </section>
    </main>

    <footer class="settings-footer">
      <button id="save-settings" class="btn-save">Save Settings</button>
      <button id="reset-settings" class="btn-reset">Reset to Default</button>
      <div id="status-message" class="status-message"></div>
    </footer>
  </div>

  <script src="settings.js"></script>
</body>
</html>